{% extends 'base.html' %}{% load staticfiles %} {% block title %}Intern Add Data{% endblock %}{% block content %}
    {% load static %} {{ form.media }} {% load crispy_forms_tags %}

    <style>
        .upload-btn-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
        }


        .upload-btn-wrapper input[type=file] {
            font-size: 100px;
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
        }

        .mleft {
            margin-left: 415px;
        }

        .ck {
            display: none;
        }

        #add {
            width: 92px;
        }

        #dta tr:hover {
            background-color: #ddd;
        }
    </style>
    <section id="bc">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb bg-white text-dark">
                <li class="breadcrumb-item">
                    <a style="color:black" href="{% url 'index' %}">
                        <i class="fa fa-home" style="color:black"></i> Index</a>
                </li>
                <li class="breadcrumb-item">
                    <a style="color:black" href="{% url 'dashboard' %}">
                        <i class="fa fa-dashboard" style="color:black"></i> Dashboard</a>
                </li>
                <li class="breadcrumb-item">
                    <a style="color:black" href="{% url 'intern_view_topic' %}">
                        <i class="fa fa-pencil" style="color:black"></i>Internship
                        - {{ subtopic.topic_id.internship_id }}
                    </a>
                </li>
                <li class="breadcrumb-item active"> Add Data : {{ subtopic.subtopic_name }}</li>
            </ol>
        </nav>
    </section>
    <div class="container">
        <br>
        <script type="text/javascript" src="{% static " ckeditor/ckeditor-init.js " %}"></script>
        <script type="text/javascript" src="{% static " ckeditor/ckeditor/ckeditor.js " %}"></script>
        <script>
            window.CKEDITOR_BASEPATH = '/static/ckeditor/';
        </script>

        <h1>Internship :{{ subtopic.topic_id.internship_id }}</h1>
        <h3>Topic :{{ subtopic.topic_id }}</h3>
        <h5>Subtopic : {{ subtopic.subtopic_name }}</h5>
        <br>
        <br>
        <table id="dta">
            {% for data in topic %}
                <tr>
                    {% if data.data_content != "NULL" %}
                        <td>{{ data.data_content |safe }}</td>
                        <td>{{ data.data_status }}</td>
                        {% if data.data_status != "ACCEPTED" %}
                            <td>
                                <a class="btn btn-sm btn-danger"
                                   href="{% url 'intern_delete_data' data.pk %}">Delete
                                </a>
                                <br>
                                <br>
                                <a class="btn btn-sm btn-primary"
                                   href="{% url 'intern_update_data' data.pk %}">
                                    Edit
                                </a>
                            </td>
                        {% endif %}
                    {% endif %}
                </tr>
                <tr>
                    {% if data.data_image.url != "NULL" %}
                        <td>
                            <img src="{{ data.data_image.url }}" width="70%" style="display:block; margin:0 auto;">
                        </td>
                        <td>{{ data.data_status }}</td>
                        {% if data.data_status != "ACCEPTED" %}
                            <td>
                                <a class="btn btn-sm btn-danger"
                                   href="{% url 'intern_delete_data' data.pk %}">Delete
                                </a>
                              <br>
                                <br>
                                <a class="btn btn-sm btn-primary"
                                   href="{% url 'intern_update_media' data.pk %}">
                                    Edit
                                </a>
                            </td>
                        {% endif %}
                    {% endif %}
                </tr>
                <tr>
                    {% if data.data_video.url != "NULL" %}
                        <td>
                            <video width='70%' style="display:block; margin:0 auto;" controls>
                                <source src="{{ data.data_video.url }}" type='video/mp4'>
                                Your browser does not support the video tag.
                            </video>
                        </td>
                        <td>{{ data.data_status }}</td>
                        {% if data.data_status != "ACCEPTED" %}
                            <td>
                                <a class="btn btn-sm btn-danger"
                                   href="{% url 'intern_delete_data' data.pk %}">Delete
                                </a>
                              <br>
                                <br>
                                <a class="btn btn-sm btn-primary"
                                   href="{% url 'intern_update_media' data.pk %}">
                                    Edit
                                </a>
                            </td>
                        {% endif %}
                    {% endif %}
                </tr>
            {% endfor %}
        </table>

        <form method="post" name="data" enctype="multipart/form-data"><br>{% csrf_token %}

            <div class="ck" id="cc">
                {{ form.media }} {{ form.as_p }}
            </div>

            <div class="upload-btn-wrapper">
                <button class="btn btn-success">Upload image</button>
                <input type="file" name="image"/>
            </div>

            <div class="upload-btn-wrapper">
                <button class="btn btn-success">Upload video</button>
                <input type="file" name="video"/>
            </div>

            <div class="upload-btn-wrapper">
                <input class="btn btn-success" type="button" id="add" onclick="show()" value="Add text">
            </div>

            <div class="upload-btn-wrapper">
                <input class="btn btn-success mleft" type="submit" name="submit" id="submit" value="Save">
            </div>
        </form>
        <br>
    </div>
    <script>
        function show() {
            document.getElementById("cc").style.display = "block";
        }
    </script>
{% endblock %}

{% block extrascripts %}
    <script type="text/javascript">

    </script>
{% endblock %}